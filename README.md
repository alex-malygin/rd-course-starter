# üèóÔ∏è E-commerce –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞ NestJS —Ç–∞ –ß–∏—Å—Ç—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî –æ—Å–≤—ñ—Ç–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ E-commerce —Å–µ—Ä–≤—ñ—Å—É –∑–∞–º–æ–≤–ª–µ–Ω—å. –í –æ—Å–Ω–æ–≤—ñ –ª–µ–∂–∏—Ç—å **–ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (Clean Architecture)** —Ç–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ **NestJS**. –ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≥–Ω—É—á–∫—É, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—É —Ç–∞ –ª–µ–≥–∫—É –≤ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—ñ —Å–∏—Å—Ç–µ–º—É, —â–æ —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è —Å—É—á–∞—Å–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ —Ä–æ–∑—Ä–æ–±–∫–∏.

## üéØ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –±–∞—á–µ–Ω–Ω—è

–í –æ—Å–Ω–æ–≤—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ª–µ–∂–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∏ **—ñ–Ω–≤–µ—Ä—Å—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π** —Ç–∞ **—Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ (Separation of Concerns)**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —á—ñ—Ç–∫–æ –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É (–¥–æ–º–µ–Ω) –≤—ñ–¥ –¥–µ—Ç–∞–ª–µ–π —Ç–µ—Ö–Ω—ñ—á–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —Ç–∞–∫–∏—Ö —è–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ —á–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.

### –ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:

1.  **–ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É**: –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ NestJS. –§—Ä–µ–π–º–≤–æ—Ä–∫ ‚Äî —Ü–µ –ª–∏—à–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É, –∞ –Ω–µ –π–æ–≥–æ —è–¥—Ä–æ.
2.  **–ù–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –ë–î**: –î–æ–º–µ–Ω–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –Ω–µ –ø—Ä–∏–≤'—è–∑–∞–Ω–∞ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –±—É–¥—å —Ç–æ PostgreSQL, MongoDB —á–∏ —Ç–µ—Å—Ç–æ–≤–∞ in-memory –±–∞–∑–∞.
3.  **–õ–µ–≥–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ, –±–µ–∑ –∑–∞–ø—É—Å–∫—É –≤—Å—ñ—î—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞, –ë–î —Ç–æ—â–æ).

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

–ü—Ä–æ—î–∫—Ç –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–æ –∑–∞ –º–æ–¥—É–ª—å–Ω–∏–º –ø—ñ–¥—Ö–æ–¥–æ–º NestJS, —â–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π —É —à–∞—Ä–∏ —á–∏—Å—Ç–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏:

```text
src/
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (–∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞)
‚îú‚îÄ‚îÄ common/              # –°–ø—ñ–ª—å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏, —Ñ—ñ–ª—å—Ç—Ä–∏
‚îú‚îÄ‚îÄ modules/             # –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–¥—É–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ users/           # –ü—Ä–∏–∫–ª–∞–¥ –º–æ–¥—É–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interface/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ orders/          # ...
‚îÇ   ‚îî‚îÄ‚îÄ products/        # ...
‚îú‚îÄ‚îÄ app.module.ts        # –ö–æ—Ä–µ–Ω–µ–≤–∏–π –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ main.ts              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
```

---

## üß± –ü–æ—è—Å–Ω–µ–Ω–Ω—è —à–∞—Ä—ñ–≤

### 1. Domain Layer (–Ø–¥—Ä–æ)

–¢—É—Ç –∂–∏–≤–µ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞. –¶–µ —Å—É—Ç–Ω–æ—Å—Ç—ñ (Entities), —â–æ –æ–ø–∏—Å—É—é—Ç—å –∫–ª—é—á–æ–≤—ñ –æ–±'—î–∫—Ç–∏ —Å–∏—Å—Ç–µ–º–∏, —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `IUsersRepository`). –¶–µ–π —à–∞—Ä ‚Äî "—á–∏—Å—Ç–∏–π", –±–µ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤ —á–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö.

### 2. Application Layer (Use Cases)

–¶–µ–π —à–∞—Ä –∫–æ–æ—Ä–¥–∏–Ω—É—î –¥—ñ—ó. –í—ñ–Ω —Ä–µ–∞–ª—ñ–∑—É—î —Å—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —è–∫-–æ—Ç "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" –∞–±–æ "–ó–Ω–∞–π—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ ID". –°–µ—Ä–≤—ñ—Å–∏ —Ü—å–æ–≥–æ —à–∞—Ä—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –∑ –¥–æ–º–µ–Ω—É –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö.

### 3. Interface Layer (–ê–¥–∞–ø—Ç–µ—Ä–∏ –≤—Ö–æ–¥—É)

–¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ —Å–≤—ñ—Ç—É. –ó–∞–∑–≤–∏—á–∞–π, —Ü–µ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏, —â–æ –ø—Ä–∏–π–º–∞—é—Ç—å HTTP-–∑–∞–ø–∏—Ç–∏. –í–æ–Ω–∏ –≤–∞–ª—ñ–¥—É—é—Ç—å –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ (DTO) —ñ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ Use Cases –∑ Application-—à–∞—Ä—É.

### 4. Infrastructure Layer (–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è)

–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ. –¢—É—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∫–æ–¥, —â–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤: —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ë–î (TypeORM, Prisma), —Å–µ—Ä–≤—ñ—Å–∏ –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –µ–º–µ–π–ª—ñ–≤, –∫–ª—ñ—î–Ω—Ç–∏ –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö API —Ç–æ—â–æ.

---

## üõ†Ô∏è –ß–æ–º—É –æ–±—Ä–∞–Ω–æ —Å–∞–º–µ —Ç–∞–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É?

### üöÄ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å

–ú–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `OrdersModule` —á–∏ `PaymentsModule`) –∑–∞ —î–¥–∏–Ω–∏–º —à–∞–±–ª–æ–Ω–æ–º. –ö–æ–º–∞–Ω–¥–∏ –º–æ–∂—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ, –Ω–µ –∑–∞–≤–∞–∂–∞—é—á–∏ –æ–¥–∏–Ω –æ–¥–Ω–æ–º—É.

### üõ°Ô∏è –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å

–ó–∞–≤–¥—è–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (`.env`) –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ, –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∑ –Ω–µ–ø–æ–≤–Ω–∏–º–∏ –∞–±–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ (–ø—Ä–∏–Ω—Ü–∏–ø **Fail-Fast**). –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∏–º –ø–æ–º–∏–ª–∫–∞–º —É —Ä–∞–Ω—Ç–∞–π–º—ñ.

### üß© –ì–Ω—É—á–∫—ñ—Å—Ç—å

–Ø–∫—â–æ –≤–∏ –∑–∞—Ö–æ—á–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∑ TypeORM –Ω–∞ Prisma, –∞–±–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –æ–¥–∏–Ω –ø–ª–∞—Ç—ñ–∂–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –Ω–∞ —ñ–Ω—à–∏–π, –∑–º—ñ–Ω–∏ —Ç–æ—Ä–∫–Ω—É—Ç—å—Å—è –ª–∏—à–µ —à–∞—Ä—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏. –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –∑–∞–ª–∏—à–∏—Ç—å—Å—è –Ω–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω–æ—é.

---

## üì¶ –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é

–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É –≥–Ω—É—á–∫–∞ —ñ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:

*   `.env` ‚Äî –±–∞–∑–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â.
*   `.env.development` ‚Äî –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ä–æ–∑—Ä–æ–±–∫–∏.
*   `.env.local` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, —è–∫—ñ –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å —É Git.

NestJS –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–º—ñ–Ω–Ω—ñ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É, –∞ –≤–±—É–¥–æ–≤–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ó—Ö –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ. –¶–µ —É–Ω–µ–º–æ–∂–ª–∏–≤–ª—é—î –∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É –∑ –ø–æ–º–∏–ª–∫–æ–≤–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é.